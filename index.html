<!doctype html>
<head>
  <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js?autoload=true"></script>
  <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Montserrat|Open+Sans" rel="stylesheet">
  <style>
    #snippet {
      padding: 20px;
    }

    body{
      font-family: Open Sans;
    }
    h1,h3{
      font-family: Montserrat;
    }
  </style>

</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <h1>Water Gage Height App</h1>
        <h3>Map real-time data to show where water is highest in your state.</h3>
        <h5>Data comes from the U.S. Geological Survey and updates every 15 minutes. <a target ="_blank" href="https://help.waterdata.usgs.gov/tutorials/surface-water-data/how-do-i-interpret-gage-height-and-streamflow-values">Here</a> is how the USGS recommends using gage height data.</h5>
      </div>
    </div>
    <div class="row">
      <div class="col-xs-12">
        <div class="form-inline">
          State:
          <select class="form-control">
            <option selected disabled>Choose state...</option>
          	<option value="AL">Alabama</option>
          	<option value="AK">Alaska</option>
          	<option value="AZ">Arizona</option>
          	<option value="AR">Arkansas</option>
          	<option value="CA">California</option>
          	<option value="CO">Colorado</option>
          	<option value="CT">Connecticut</option>
          	<option value="DE">Delaware</option>
          	<option value="DC">District Of Columbia</option>
          	<option value="FL">Florida</option>
          	<option value="GA">Georgia</option>
          	<option value="HI">Hawaii</option>
          	<option value="ID">Idaho</option>
          	<option value="IL">Illinois</option>
          	<option value="IN">Indiana</option>
          	<option value="IA">Iowa</option>
          	<option value="KS">Kansas</option>
          	<option value="KY">Kentucky</option>
          	<option value="LA">Louisiana</option>
          	<option value="ME">Maine</option>
          	<option value="MD">Maryland</option>
          	<option value="MA">Massachusetts</option>
          	<option value="MI">Michigan</option>
          	<option value="MN">Minnesota</option>
          	<option value="MS">Mississippi</option>
          	<option value="MO">Missouri</option>
          	<option value="MT">Montana</option>
          	<option value="NE">Nebraska</option>
          	<option value="NV">Nevada</option>
          	<option value="NH">New Hampshire</option>
          	<option value="NJ">New Jersey</option>
          	<option value="NM">New Mexico</option>
          	<option value="NY">New York</option>
          	<option value="NC">North Carolina</option>
          	<option value="ND">North Dakota</option>
          	<option value="OH">Ohio</option>
          	<option value="OK">Oklahoma</option>
          	<option value="OR">Oregon</option>
          	<option value="PA">Pennsylvania</option>
          	<option value="RI">Rhode Island</option>
          	<option value="SC">South Carolina</option>
          	<option value="SD">South Dakota</option>
          	<option value="TN">Tennessee</option>
          	<option value="TX">Texas</option>
          	<option value="UT">Utah</option>
          	<option value="VT">Vermont</option>
          	<option value="VA">Virginia</option>
          	<option value="WA">Washington</option>
          	<option value="WV">West Virginia</option>
          	<option value="WI">Wisconsin</option>
          	<option value="WY">Wyoming</option>
          </select>

          Width: <input type="text" value="400" id="width" class="form-control"></input>
        </div>

      </div>
    </div>
    <div class="row">
      <div class="col-xs-12 col-sm-6">
        <h3>Code:</h3>
        <div id="code">
          <pre class="prettyprint" id="snippet"></pre>
          </pre>
        </div>
      </div>
      <div class="col-xs-12 col-sm-6">
        <h3>Example:</h3>
        <div id="example">

        </div>
      </div>
    </div>
  </div>





  <script>
    $(document).ready(function(){
      $("select").change(writeCode);
      $("input").change(writeCode);
    })

    var string;

    function writeCode(){
      string='<iframe src="http://litaylor.github.io/hurricane/embed.html?state='+$("select").val()+'" width="'+$("input").val()+'" height="500"></iframe>';
      // console.log(string);
      $("#example").html(string);
      updateSnippet();
    }

    function updateSnippet(){
      function html(s) {
        return s.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
      }

      var snippet = html(
            document.getElementById('example').innerHTML);

      // Highlight the operative parts:
      snippet = snippet.replace(
        /&lt;script src[\s\S]*?&gt;&lt;\/script&gt;|&lt;!--\?[\s\S]*?--&gt;|&lt;pre\b[\s\S]*?&lt;\/pre&gt;/g,
        '<span class="operative">$&</span>');

      document.getElementById("snippet").innerHTML = snippet;
    };

  </script>
</body>

</html>
